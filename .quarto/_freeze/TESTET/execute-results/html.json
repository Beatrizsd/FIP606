{
  "hash": "89b2d189d7049d61e318f3bb67ea0119",
  "result": {
    "markdown": "---\ntitle: \"\"\n---\n\n\n## Teste T\n\nO teste T é um teste estatístico que compara e avalia se há diferença estatística entre médias de dois grupos\n\n## Duas amostras independentes\n\n### Pacotes usados\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-1_cc86f9ffb9584d5a0d5a3baa1f4d68dc'}\n\n```{.r .cell-code}\nlibrary(gsheet)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(report)\n```\n:::\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-2_b30bf1bd87bd4a3044b488c6c3c5dcd9'}\n\n```{.r .cell-code}\nmagnesio <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=983033137\")\n```\n:::\n\n\n## Analise descritiva\n\nPrimeiro vamos observar a estatística descritiva do conjunto dados.\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-3_02dfae13d21f36b2562bb4431aa9ef6b'}\n\n```{.r .cell-code}\nmagnesio |> \n  group_by(trat) |> \n  summarise(\n    mean_com = mean(comp),\n    sd_comp = sd(comp),\n    var_comp = var(comp),\n    n = n(),\n    se_comp = sd_comp / sqrt(n - 1),\n    ci = se_comp * qt(0,025, df = 9))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 7\n  trat    mean_com sd_comp var_comp     n se_comp    ci\n  <chr>      <dbl>   <dbl>    <dbl> <int>   <dbl> <dbl>\n1 Mg2         10.5    1.54     2.39    10   0.515  -Inf\n2 control     15.7    1.27     1.61    10   0.424  -Inf\n```\n:::\n\n```{.r .cell-code}\nmagnesio\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 20 × 3\n   trat      rep  comp\n   <chr>   <dbl> <dbl>\n 1 Mg2         1   9  \n 2 Mg2         2  12.5\n 3 Mg2         3  10  \n 4 Mg2         4   8  \n 5 Mg2         5  13.2\n 6 Mg2         6  11  \n 7 Mg2         7  10.8\n 8 Mg2         8   9.5\n 9 Mg2         9  10.8\n10 Mg2        10  10.4\n11 control     1  13.7\n12 control     2  15.9\n13 control     3  15.7\n14 control     4  14.2\n15 control     5  15.9\n16 control     6  16.5\n17 control     7  18  \n18 control     8  14.4\n19 control     9  16.4\n20 control    10  16  \n```\n:::\n:::\n\n\n### visualização em box plot\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-4_716c81b5756afc26ac1626f01b3d7be5'}\n\n```{.r .cell-code}\nmagnesio |> \n  ggplot(aes(trat, comp))+\n  geom_boxplot()+\n  geom_jitter(width = 0.1)\n```\n\n::: {.cell-output-display}\n![](TESTET_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nO conjunto de dados importado esta no formato longo, para o teste T, os dados devem estar no formato largo. Para isso, vamos usar a função *pivot_wider*.\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-5_b28c123efb8f527483190791cb511b18'}\n\n```{.r .cell-code}\nmagnesio2 <- magnesio |> \n  pivot_wider(1, names_from = \"trat\",\n              values_from = \"comp\")\nmagnesio2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n     rep   Mg2 control\n   <dbl> <dbl>   <dbl>\n 1     1   9      13.7\n 2     2  12.5    15.9\n 3     3  10      15.7\n 4     4   8      14.2\n 5     5  13.2    15.9\n 6     6  11      16.5\n 7     7  10.8    18  \n 8     8   9.5    14.4\n 9     9  10.8    16.4\n10    10  10.4    16  \n```\n:::\n:::\n\n\nO teste T é um teste paramétrico que precisa seguir duas premissas, sendo estas: normalidade e homogeneidade da variância.\n\n### Normalidade\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-6_ef6c2ed26ad03c3d02fee76007f15185'}\n\n```{.r .cell-code}\nattach(magnesio2)\nshapiro.test(Mg2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  Mg2\nW = 0.97269, p-value = 0.9146\n```\n:::\n:::\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-7_5b431962bab3026e6a6064d3074944f0'}\n\n```{.r .cell-code}\nshapiro.test(control)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  control\nW = 0.93886, p-value = 0.5404\n```\n:::\n:::\n\n\nA normalidade pode ser verificada de forma visual\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-8_993b3d70e5367f9e67fe3105487ef6e1'}\n\n```{.r .cell-code}\nqqnorm(control)\nqqline(control)\n```\n\n::: {.cell-output-display}\n![](TESTET_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\nqqnorm(Mg2)\nqqline(Mg2)\n```\n\n::: {.cell-output-display}\n![](TESTET_files/figure-html/unnamed-chunk-8-2.png){width=672}\n:::\n:::\n\n\n### Homogeneidade\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-9_597319213a425c67b1fd114d4e5bbb7f'}\n\n```{.r .cell-code}\nattach(magnesio2)\nvar.test(Mg2, control)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tF test to compare two variances\n\ndata:  Mg2 and control\nF = 1.4781, num df = 9, denom df = 9, p-value = 0.5698\nalternative hypothesis: true ratio of variances is not equal to 1\n95 percent confidence interval:\n 0.3671417 5.9508644\nsample estimates:\nratio of variances \n          1.478111 \n```\n:::\n\n```{.r .cell-code}\n#não rejeita a hipotese nula de que as variâncias são homogêneas\n```\n:::\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-10_875e9f105700307a6a2f390e60c93b9f'}\n\n```{.r .cell-code}\nt.test(Mg2, control,\n       var.equal = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tTwo Sample t-test\n\ndata:  Mg2 and control\nt = -8.1549, df = 18, p-value = 1.863e-07\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n -6.486839 -3.829161\nsample estimates:\nmean of x mean of y \n   10.520    15.678 \n```\n:::\n\n```{.r .cell-code}\n#houve efeito da suplementação de magnésio no comprimento da lesão\n```\n:::\n\n\npacote report da uma sugestão de texto relatando a saída do teste T\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-11_e82c7ad942e8a9ca034140d512e06b85'}\n\n```{.r .cell-code}\nteste1 <- t.test(Mg2, control,\n       var.equal = TRUE)\nreport(teste1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nEffect sizes were labelled following Cohen's (1988) recommendations.\n\nThe Two Sample t-test testing the difference between Mg2 and control (mean of x\n= 10.52, mean of y = 15.68) suggests that the effect is negative, statistically\nsignificant, and large (difference = -5.16, 95% CI [-6.49, -3.83], t(18) =\n-8.15, p < .001; Cohen's d = -3.65, 95% CI [-5.10, -2.16])\n```\n:::\n:::\n\n\n### Visualização do gáfico pós teste\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-12_0b4d5e4631d4161c89248bb256d4e143'}\n\n```{.r .cell-code}\nmagnesio |> \n  ggplot(aes(trat, comp))+\n  geom_boxplot()+\n  geom_point()+\n  theme_bw()+\n  stat_summary(fun=\"mean\",\n               geom = \"point\", \n               size = 4, color = \"blue\")+\n  annotate(\"text\", x= 2, y= 15, label = \"P < 0,01\")\n```\n\n::: {.cell-output-display}\n![](TESTET_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n## Dois grupos dependentes\n\no tent T para amostras dependentes é usado quando um mesmo elemento ou amostra é medida ao longo do tempo ou avaliada antes e depois da aplicação de determinado tratamento em diferentes métodos.\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-13_10654e29d0cf4087beeea97aa29973bc'}\n\n```{.r .cell-code}\nescala <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=1729131173\")\n```\n:::\n\n\nPrimeiro passar para o formato largo\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-14_a232c4fdfe16a96449b3cd5fbf28266f'}\n\n```{.r .cell-code}\nescala1 <- escala |> \n  dplyr::select(assessment, rater, acuracia) |> \n  pivot_wider(1, names_from = \"assessment\",\n              values_from = \"acuracia\")\n```\n:::\n\n\nVisualizar\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-15_e4ac9557d93bf7123df8db8e39f2aab8'}\n\n```{.r .cell-code}\nescala |>\n  ggplot(aes(assessment, acuracia))+\n  geom_boxplot()+\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](TESTET_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\nVerificar se as premissas são atendidas\n\nNormalidade\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-16_01aaf0a564aa526ae2a005e9ff700050'}\n\n```{.r .cell-code}\nattach(escala1)\nshapiro.test(Unaided)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  Unaided\nW = 0.7748, p-value = 0.007155\n```\n:::\n\n```{.r .cell-code}\nshapiro.test(Aided1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tShapiro-Wilk normality test\n\ndata:  Aided1\nW = 0.92852, p-value = 0.4335\n```\n:::\n\n```{.r .cell-code}\n# dados não seguem normalidade\n```\n:::\n\n\nAnalise visual da normalidade\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-17_b585f73b1cd64d7f06c57c97051dd6cb'}\n\n```{.r .cell-code}\nqqnorm(Aided1)\nqqline(Aided1)\n```\n\n::: {.cell-output-display}\n![](TESTET_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n\n```{.r .cell-code}\nqqnorm(Unaided)\nqqline(Unaided)\n```\n\n::: {.cell-output-display}\n![](TESTET_files/figure-html/unnamed-chunk-17-2.png){width=672}\n:::\n:::\n\n\nHomogeneidade\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-18_93efbf8cfe943431075a0a7069eacda4'}\n\n```{.r .cell-code}\nattach(escala1)\nvar.test(Unaided, Aided1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tF test to compare two variances\n\ndata:  Unaided and Aided1\nF = 20.978, num df = 9, denom df = 9, p-value = 0.000106\nalternative hypothesis: true ratio of variances is not equal to 1\n95 percent confidence interval:\n  5.210754 84.459185\nsample estimates:\nratio of variances \n          20.97847 \n```\n:::\n\n```{.r .cell-code}\n#Rejeita HO: variâncias heterogênea\n```\n:::\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-19_e9f27a339fede31431923b2fbf8a012a'}\n\n```{.r .cell-code}\nt.test(escala1$Aided1, escala1$Unaided,\n       paired = TRUE,\n       var.equal = FALSE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPaired t-test\n\ndata:  escala1$Aided1 and escala1$Unaided\nt = 4.4214, df = 9, p-value = 0.001668\nalternative hypothesis: true mean difference is not equal to 0\n95 percent confidence interval:\n 0.1147647 0.3552353\nsample estimates:\nmean difference \n          0.235 \n```\n:::\n:::\n\n\nQuando o conjunto de dados não segue as premissas do teste T paramétricro, aplica-se um teste não paramétrico equivalente ao test T, nesse caso vamos usar o wilcox test.\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-20_369829221c74428d10432ef17c5d92ce'}\n\n```{.r .cell-code}\nwilcox.test(escala1$Aided1, \n            escala1$Unaided, \n            paired = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWilcoxon signed rank test with continuity correction\n\ndata:  escala1$Aided1 and escala1$Unaided\nV = 55, p-value = 0.005889\nalternative hypothesis: true location shift is not equal to 0\n```\n:::\n:::\n\n\n### Visualizar no gráfico\n\n\n::: {.cell hash='TESTET_cache/html/unnamed-chunk-21_8fea680a56d1a63b1cb92850cb775a64'}\n\n```{.r .cell-code}\nescala |> \n  ggplot(aes(reorder(assessment, acuracia), acuracia,\n             group = rater))+\n  geom_point(stat = \"identity\", size = 3, shape = 1)+\n  geom_line(size = 1, color = \"gray\")+\n  annotate(\"text\",\n           x = 2.3,\n           y= 0.9,\n           label = \"P < 0.001\")\n```\n\n::: {.cell-output-display}\n![](TESTET_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}